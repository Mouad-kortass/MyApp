
<nav class="navbar bg-light">
  <div class="container-fluid row col-4">
    <form class="d-flex" role="search">
    <input class="form-control me-2" [(ngModel)]="MotCle"  type="search" placeholder="Chercher" name="MotCle" (input)="Search()">

     
    </form>
  </div>
  <div class="col-auto"><button class="btn btn-primary mx-2" (click)="OnAddPersonne()">+ Ajouter Personne</button></div>
</nav>



<div class="row" >

    <div class="col-xxl-4 col-xl-6 " style="height: 80vh;">

  
      
  
        

        <ul  class="list-group h-100 scrollbar-dusty-grass square thin" style=" overflow-y: scroll; scroll-behavior: smooth;">

            <li *ngFor="let p of liste_p" class="list-group-item list-group-item-action rounded-0" >
              <a (click)="GoToPersenne(p.Matricule)" class="">
              
             <div class="w-100 col row">
                <div class="col-3" ><img src="https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png" style="width: 50px; height:50px ;" class=" float-start rounded-circle" alt="..."></div>
                <div class="col-9">{{p.Matricule}}
                    <h5>{{p.Nom | titlecase}} {{p.Prenom | titlecase}}</h5>
                </div>
                
             </div>
            </a>
            </li>


          </ul>
    </div>
   
    <!---form des info -->
    <div class="col-7 pt-3">
      <div class="border p-5">
   

        <form [formGroup]="FormPersonne">
          <fieldset [disabled]="disabledForm">

<div class="row col ">

    <div class="col-8 align-self-center">
      
        <div class="mb-3 row col">
            <div class="col-4"><label for="exampleInputPassword1" class="form-label  ">Matricule</label></div>
            <div class="col-6"><fieldset [disabled]="disabledMatricule"><input type="email" class="form-control" id="exampleInputEmail1" formControlName="matricule" maxlength="8" aria-describedby="emailHelp"> </fieldset></div>
            <div class="col-2 align-self-center"><input type="checkbox" class="form-check-input"  id="exampleCheck1"><label class="form-check-label   px-2" for="exampleCheck1">Activ√©</label></div>
          </div> 
       
          <div class="mb-3 row col">
            <div class="col-4"><label for="exampleInputPassword1" class="form-label  ">Nom</label></div>
            <div class="col-8"><input type="email" class="form-control" id="exampleInputEmail1" formControlName="nom" maxlength="30" [pattern]='pattern'  aria-describedby="emailHelp"></div>
          </div>
          
          <div class="mb-3 row col">
            <div class="col-4"><label for="exampleInputPassword1" class="form-label  ">Prenom</label></div>
            <div class="col-8"><input type="email" class="form-control" id="exampleInputEmail1" formControlName="prenom" maxlength="20" aria-describedby="emailHelp"></div>
          </div>


    </div>
    <div class="col-4">
   
      <div class=" justify-content-center d-flex mb-3"><img  src="https://www.pavilionweb.com/wp-content/uploads/2017/03/man-300x300.png" style="width: 200px; height:200px ;" class=" float-start rounded-circle" alt="..."></div>
    </div>

       <!---00 info ----->
    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label  ">Pole</label>
      <select *ngIf="unite1" class="form-select form-select" formControlName="un1" aria-label=".form-select-lg example">
        <option selected >Pole</option>
        <option *ngFor="let s of unite1" [value]="s.code_u">{{s.designation}}  </option>
      </select>
      
    </div>

    <div class="mb-3 col-8">
     <label for="exampleInputPassword1" class="form-label  ">Service</label>
      <select *ngIf="unite2"  class="form-select form-select" formControlName="un2" aria-label=".form-select-lg example">
        <option selected >Service</option>
        <option *ngFor="let s of unite2" [value]="s.code_u">{{s.designation}}  </option>
      </select>
      
    </div>
    <div class="mb-3 col-4">
      <label for="InputManager" class="form-label  ">Manager</label>
      <select  class="form-select form-select" formControlName="mng" aria-label=".form-select-lg example">
        <option *ngFor="let m of managers" [value]="m.code">{{m.code}}</option>
      </select>
     </div>

    <div class="mb-3 col-8">
      <label for="exampleInputPassword1" class="form-label  ">Direction</label>
      <select *ngIf="unite3" class="form-select form-select" formControlName="un3" aria-label=".form-select-lg example">
        <option selected >Direction</option>
        <option *ngFor="let s of unite3" [value]="s.code_u">{{s.designation}}  </option>
      </select>
      
    </div>

    <div class="mb-3 col-4">
      <label for="InputProfil" class="form-label  ">Profil</label>
      <input type="text" class="form-control" id="InputProfil" formControlName="profil" maxlength="20" aria-describedby="emailHelp">
       
     </div>

     <div class="mb-3 col-4">
      <label for="InputDateE" class="form-label  ">Date Embauche</label>
      <input type="date" class="form-control" id="InputDateE" formControlName="date_e" maxlength="20" aria-describedby="emailHelp">
       
     </div>

     <div class="mb-3 col-4">
      <label for="InputCIN" class="form-label  ">CIN</label>
      <input type="text" class="form-control" id="InputCIN" formControlName="cin" maxlength="20" aria-describedby="emailHelp">
       
     </div>


    
</div>

</fieldset>
<div class="col row">
            <div class="col-6" [ngStyle]="{'display': disabledForm ? 'block' : 'none' }">
              <!-- button Supprimer-->
            <button type="submit" class="btn btn-outline-primary m-2 mt-3" style="width: 100px;" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Supprimer</button>
              <!-- button Supprimer-->
            <button type="submit" class="btn btn-outline-primary m-2 mt-3" style="width: 100px;" (click)="update(false)">Modifier</button>
           </div>
           <div class="col-6 offset-6" [ngStyle]="{'display': disabledForm ? 'none' : 'block' }">
            <button type="submit" class="btn btn-outline-success m-2 mt-3" style="width: 100px;" (click)="OnValide()">Valider</button>
    
            <button type="submit"  class="btn btn-outline-danger m-2 mt-3" style="width: 100px;" (click)="update(true)">Annuler</button>
           </div>

  </div>

<!-- Modal Supprimer-->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Confirmation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Etre-vous sur(e) de vouloir supprimer cette personne ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Non</button>
        <button type="button" class="btn btn-primary" (click)="OnDeletePersonne()" data-bs-dismiss="modal">Oui</button>
      </div>
    </div>
  </div>
</div>
            
          


          </form>
        </div>
    </div>
  </div>